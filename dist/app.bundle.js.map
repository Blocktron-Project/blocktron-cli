{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./bin/blocktron-cli.js","webpack:///./src/index.js","webpack:///./config/blocktron.js","webpack:///./config/repoUrls.js","webpack:///external \"async\"","webpack:///external \"figlet\"","webpack:///./config/figlet.js","webpack:///external \"chalk\"","webpack:///external \"replace-in-file\"","webpack:///external \"child_process\""],"names":["log","message","level","console","chalk","white","blue","green","yellow","bold","red","isWindows","test","process","platform","run","script","Promise","resolve","reject","error","stdout","stderr","argv","length","option","_BtConfig","version","match","projectName","checkGit","data","exit","gitCommand","URL_SCHEMA","blocktronNode","clone","err","on","progress","stop","removeGitFolder","removeGithubFolder","removeCoC","removePullReqTemp","removeContrib","removeLicense","then","command1","command2","command3","command4","command5","catch","name","figletConfig","blocktronExplorer","font","horizontalLayout","verticalLayout"],"mappings":"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","file":"app.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","/**\r\n * import blocktron-cli\r\n */\r\nimport '../src';","/**\r\n * Blocktron CLI\r\n * A CLI tool to generate a blocktron instance.\r\n * Written by: Sandeep Vattapparambil\r\n * Email: sandeepv68@gmail.com\r\n * Website: www.sandeepv.in\r\n */\r\n\r\n/**\r\n * Use strict mode\r\n */\r\n'use strict';\r\n\r\nimport _BtConfig from '../config/blocktron';\r\nimport URL_SCHEMA from '../config/repoUrls';\r\n\r\n/**\r\n * async - utilities library for async operations\r\n */\r\nimport async from 'async';\r\n\r\n/**\r\n * Figlet - render ASCII graphics in terminal\r\n */\r\nimport figlet from 'figlet';\r\n\r\n/**\r\n * Figlet configuration\r\n */\r\nimport figletConfig from '../config/figlet';\r\n\r\n/**\r\n * Chalk - colorful terminal logs\r\n */\r\nimport chalk from 'chalk';\r\n\r\n/**\r\n * Replace-in-file - replace strings in files\r\n */\r\nimport replace from 'replace-in-file';\r\n\r\n/**\r\n * Exec command from child_process\r\n * Function to Spawns a shell then executes the command within that shell, buffering any generated output. \r\n * The command string passed to the exec function is processed directly by the shell and special \r\n * characters (vary based on shell) need to be dealt with accordingly.\r\n * Note: Never pass unsanitized user input to this function. \r\n * Any input containing shell metacharacters may be used to trigger arbitrary command execution.\r\n */\r\nimport {\r\n  exec\r\n} from 'child_process';\r\n\r\n/**\r\n * A helper function to augment console.log with chalk\r\n * @name log\r\n * @param {String} message - The message string\r\n * @param {String} level - The type of message\r\n */\r\nconst log = (message = '', level = '') => {\r\n  switch (level) {\r\n    case 'default':\r\n      console.log(chalk.white(message));\r\n      break;\r\n    case 'info':\r\n      console.log(chalk.blue(message));\r\n      break;\r\n    case 'success':\r\n      console.log(chalk.green(message));\r\n      break;\r\n    case 'warn':\r\n      console.log(chalk.yellow.bold(message));\r\n      break;\r\n    case 'error':\r\n      console.log(chalk.red.bold(message));\r\n      break;\r\n    default:\r\n      console.log(message);\r\n  }\r\n  return;\r\n};\r\n\r\n/**\r\n * @name isWindows\r\n * Helper function to check the current platform for Windows/Unix-ish.\r\n * @returns {Boolean} - Returns true if Windows, else false.\r\n */\r\nconst isWindows = () => {\r\n  if (/^win/i.test(process.platform)) {\r\n    return true;\r\n  } else {\r\n    return false;\r\n  }\r\n}\r\n\r\n/**\r\n * @name run\r\n * A Promise factory to execute an arbitrary shell command.\r\n * @param {String} script - The arbitrary shell command to execute.\r\n * @returns {<Promise>} - The promise object containing the stdout/stderr. \r\n */\r\nconst run = (script) => {\r\n  return new Promise((resolve, reject) => {\r\n    /**\r\n     * If a callback function is provided, it is called with the arguments (error, stdout, stderr). \r\n     * On success, error will be null. On error, error will be an instance of Error. \r\n     * The error.code property will be the exit code of the child process while error.signal \r\n     * will be set to the signal that terminated the process. \r\n     * Any exit code other than 0 is considered to be an error.\r\n     * The stdout and stderr arguments passed to the callback will contain the stdout and stderr \r\n     * output of the child process. By default, Node.js will decode the output as UTF-8 and pass \r\n     * strings to the callback. The encoding option can be used to specify the character encoding \r\n     * used to decode the stdout and stderr output. If encoding is 'buffer', or an unrecognized \r\n     * character encoding, Buffer objects will be passed to the callback instead.\r\n     */\r\n    exec(script, (error, stdout, stderr) => {\r\n      if (stderr) {\r\n        //reject promise with error\r\n        reject(stderr);\r\n      } else {\r\n        //resolve promise with success\r\n        resolve(stdout);\r\n      }\r\n    });\r\n  });\r\n}\r\n\r\nif (process.argv[2] && process.argv[2].length !== 0) {\r\n  let option = process.argv[2];\r\n  if (option === 'help') {\r\n\r\n    log('Help', 'info');\r\n  } else if (option === 'version') {\r\n\r\n    log(`v${_BtConfig.version}`, 'info');\r\n  } else if (option.length < 3 || !option.match(/^(\\w+\\.?)*\\w+$/g)) {\r\n\r\n    log(`Error: Please provide a valid name with minimum 3 char length`, 'error');\r\n  } else {\r\n\r\n    let projectName = option;\r\n    log(`Building project............... ${projectName}`, 'info');\r\n\r\n    /**\r\n     * Check whether git is installed or not and continue.\r\n     */\r\n    let checkGit = `git`;\r\n    exec(checkGit, (data) => {\r\n      if (!data) {\r\n        log(chalk.red.bold(`\\nError: Git is not installed`));\r\n        process.exit();\r\n      }\r\n\r\n      /**\r\n       * Clone repo\r\n       */\r\n      const gitCommand = `git clone ${URL_SCHEMA.blocktronNode} ${projectName}`;\r\n\r\n      let clone = exec(gitCommand, (err) => {\r\n        if (err) {\r\n          log(chalk.red.bold(err));\r\n          process.exit();\r\n        } else {\r\n          log('Cloning repo.....................', 'info');\r\n        }\r\n      });\r\n      clone.on('close', () => {\r\n        //Stop progress bar\r\n        progress.stop();\r\n        log(chalk.green(`\\nProject files downloaded successfully.`));\r\n        if (isWindows) {\r\n\r\n          /**\r\n           * Cleanup project folder in WINDOWS.\r\n           */\r\n          //remove .git directory\r\n          let removeGitFolder = `rmdir ${projectName}\\\\.git /s /q`;\r\n          //remove .github folder\r\n          let removeGithubFolder = `rmdir ${projectName}\\\\.github /s /q`;\r\n          //remove CODE_OF_CONDUCT.md\r\n          let removeCoC = `del ${projectName}\\\\CODE_OF_CONDUCT.md /s /q`;\r\n          //remove PULL_REQUEST_TEMPLATE.md\r\n          let removePullReqTemp = `del ${projectName}\\\\PULL_REQUEST_TEMPLATE.md /s /q`;\r\n          //remove CONTRIBUTING.md\r\n          let removeContrib = `del ${projectName}\\\\CONTRIBUTING.md /s /q`;\r\n          //remove LICENSE\r\n          let removeLicense = `del ${projectName}\\\\LICENSE /s /q`;\r\n\r\n          /**\r\n           * Promisify and execute remove commands.\r\n           */\r\n          run(removeGitFolder).then((command1) => {\r\n            return run(removeGithubFolder);\r\n          }).then((command2) => {\r\n            return run(removeCoC);\r\n          }).then((command3) => {\r\n            return run(removePullReqTemp);\r\n          }).then((command4) => {\r\n            return run(removeContrib);\r\n          }).then((command5) => {\r\n            return run(removeLicense);\r\n          }).catch((error) => {\r\n            log(chalk.red.bold(`\\nError cleaning up the project: , ${error}`));\r\n          });\r\n        }\r\n      });\r\n    });\r\n  }\r\n} else {\r\n\r\n  /**\r\n   * Bootstrap the cli after rendering the logo\r\n   */\r\n  figlet(_BtConfig.name, figletConfig, (err, data) => {\r\n    if (err) {\r\n      log('logo rendering failed!: ' + err, 'error');\r\n    }\r\n\r\n    /**\r\n     * render the logo in bold yellow and version in blue\r\n     */\r\n    log(data, 'warn');\r\n    log(`v${_BtConfig.version}`, 'info');\r\n    log('\\nUsage:', 'info');\r\n    log('blocktron [commands]', 'info');\r\n    log('\\nAvailable Commands:', 'info');\r\n    log('     help                 show cli help', 'info');\r\n    log('     version              get cli version', 'info');\r\n    log('     .                    generate a new blocktron-node instance in the current directory', 'info');\r\n    log('     <project-name>       generate a new blocktron-node instance in the <project-name> directory', 'info');\r\n  });\r\n}","/**\r\n * Application configuration object\r\n */\r\nconst _BtConfig = {\r\n    name: 'Blocktron  cli',\r\n    version: '1.0.0'\r\n};\r\n\r\nexport default _BtConfig;","const URL_SCHEMA = {\r\n    blocktronNode: 'https://github.com/Blocktron-Project/blocktron-explorer.git',\r\n    blocktronExplorer: 'https://github.com/Blocktron-Project/blocktron-node.git'\r\n};\r\n\r\nexport default URL_SCHEMA;","module.exports = require(\"async\");","module.exports = require(\"figlet\");","/**\r\n * Figlet configuration object\r\n * @see {@link https://www.npmjs.com/package/figlet#font-options | Figlet-NPM}\r\n */\r\nconst figletConfig = {\r\n    font: 'Big',\r\n    horizontalLayout: 'fitted',\r\n    verticalLayout: 'default'\r\n};\r\n\r\nexport default figletConfig;","module.exports = require(\"chalk\");","module.exports = require(\"replace-in-file\");","module.exports = require(\"child_process\");"],"sourceRoot":""}